{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"prefixCls\", \"className\", \"id\", \"open\", \"defaultOpen\", \"options\", \"children\", \"mode\", \"value\", \"defaultValue\", \"labelInValue\", \"showSearch\", \"inputValue\", \"searchValue\", \"filterOption\", \"filterSort\", \"optionFilterProp\", \"autoClearSearchValue\", \"onSearch\", \"fieldNames\", \"allowClear\", \"clearIcon\", \"showArrow\", \"inputIcon\", \"menuItemSelectedIcon\", \"disabled\", \"loading\", \"defaultActiveFirstOption\", \"notFoundContent\", \"optionLabelProp\", \"backfill\", \"tabIndex\", \"getInputElement\", \"getRawInputElement\", \"getPopupContainer\", \"placement\", \"listHeight\", \"listItemHeight\", \"animation\", \"transitionName\", \"virtual\", \"dropdownStyle\", \"dropdownClassName\", \"dropdownMatchSelectWidth\", \"dropdownRender\", \"dropdownAlign\", \"showAction\", \"direction\", \"tokenSeparators\", \"tagRender\", \"onPopupScroll\", \"onDropdownVisibleChange\", \"onFocus\", \"onBlur\", \"onKeyUp\", \"onKeyDown\", \"onMouseDown\", \"onChange\", \"onSelect\", \"onDeselect\", \"onClear\", \"internalProps\"];\n/**\n * To match accessibility requirement, we always provide an input in the component.\n * Other element will not set `tabIndex` to avoid `onBlur` sequence problem.\n * For focused select, we set `aria-live=\"polite\"` to update the accessibility content.\n *\n * ref:\n * - keyboard: https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Roles/listbox_role#Keyboard_interactions\n */\n\nimport * as React from 'react';\nimport { useState, useRef, useEffect, useMemo } from 'react';\nimport KeyCode from \"rc-util/es/KeyCode\";\nimport isMobile from \"rc-util/es/isMobile\";\nimport { composeRef } from \"rc-util/es/ref\";\nimport classNames from 'classnames';\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport Selector from './Selector';\nimport SelectTrigger from './SelectTrigger';\nimport { INTERNAL_PROPS_MARK } from './interface/generator';\nimport { toInnerValue, toOuterValues, removeLastEnabledValue, getUUID } from './utils/commonUtil';\nimport TransBtn from './TransBtn';\nimport useLock from './hooks/useLock';\nimport useDelayReset from './hooks/useDelayReset';\nimport useLayoutEffect from './hooks/useLayoutEffect';\nimport { getSeparatedContent } from './utils/valueUtil';\nimport useSelectTriggerControl from './hooks/useSelectTriggerControl';\nimport useCacheDisplayValue from './hooks/useCacheDisplayValue';\nimport useCacheOptions from './hooks/useCacheOptions';\nvar DEFAULT_OMIT_PROPS = ['removeIcon', 'placeholder', 'autoFocus', 'maxTagCount', 'maxTagTextLength', 'maxTagPlaceholder', 'choiceTransitionName', 'onInputKeyDown', 'tabIndex'];\n/**\n * This function is in internal usage.\n * Do not use it in your prod env since we may refactor this.\n */\n\nexport default function generateSelector(config) {\n  var defaultPrefixCls = config.prefixCls,\n      OptionList = config.components.optionList,\n      convertChildrenToData = config.convertChildrenToData,\n      flattenOptions = config.flattenOptions,\n      getLabeledValue = config.getLabeledValue,\n      filterOptions = config.filterOptions,\n      isValueDisabled = config.isValueDisabled,\n      findValueOption = config.findValueOption,\n      warningProps = config.warningProps,\n      fillOptionsWithMissingValue = config.fillOptionsWithMissingValue,\n      omitDOMProps = config.omitDOMProps; // Use raw define since `React.FC` not support generic\n\n  function Select(props, ref) {\n    var _classNames2;\n\n    var _props$prefixCls = props.prefixCls,\n        prefixCls = _props$prefixCls === void 0 ? defaultPrefixCls : _props$prefixCls,\n        className = props.className,\n        id = props.id,\n        open = props.open,\n        defaultOpen = props.defaultOpen,\n        options = props.options,\n        children = props.children,\n        mode = props.mode,\n        value = props.value,\n        defaultValue = props.defaultValue,\n        labelInValue = props.labelInValue,\n        showSearch = props.showSearch,\n        inputValue = props.inputValue,\n        searchValue = props.searchValue,\n        filterOption = props.filterOption,\n        filterSort = props.filterSort,\n        _props$optionFilterPr = props.optionFilterProp,\n        optionFilterProp = _props$optionFilterPr === void 0 ? 'value' : _props$optionFilterPr,\n        _props$autoClearSearc = props.autoClearSearchValue,\n        autoClearSearchValue = _props$autoClearSearc === void 0 ? true : _props$autoClearSearc,\n        onSearch = props.onSearch,\n        fieldNames = props.fieldNames,\n        allowClear = props.allowClear,\n        clearIcon = props.clearIcon,\n        showArrow = props.showArrow,\n        inputIcon = props.inputIcon,\n        menuItemSelectedIcon = props.menuItemSelectedIcon,\n        disabled = props.disabled,\n        loading = props.loading,\n        defaultActiveFirstOption = props.defaultActiveFirstOption,\n        _props$notFoundConten = props.notFoundContent,\n        notFoundContent = _props$notFoundConten === void 0 ? 'Not Found' : _props$notFoundConten,\n        optionLabelProp = props.optionLabelProp,\n        backfill = props.backfill,\n        tabIndex = props.tabIndex,\n        getInputElement = props.getInputElement,\n        getRawInputElement = props.getRawInputElement,\n        getPopupContainer = props.getPopupContainer,\n        placement = props.placement,\n        _props$listHeight = props.listHeight,\n        listHeight = _props$listHeight === void 0 ? 200 : _props$listHeight,\n        _props$listItemHeight = props.listItemHeight,\n        listItemHeight = _props$listItemHeight === void 0 ? 20 : _props$listItemHeight,\n        animation = props.animation,\n        transitionName = props.transitionName,\n        virtual = props.virtual,\n        dropdownStyle = props.dropdownStyle,\n        dropdownClassName = props.dropdownClassName,\n        dropdownMatchSelectWidth = props.dropdownMatchSelectWidth,\n        dropdownRender = props.dropdownRender,\n        dropdownAlign = props.dropdownAlign,\n        _props$showAction = props.showAction,\n        showAction = _props$showAction === void 0 ? [] : _props$showAction,\n        direction = props.direction,\n        tokenSeparators = props.tokenSeparators,\n        tagRender = props.tagRender,\n        onPopupScroll = props.onPopupScroll,\n        onDropdownVisibleChange = props.onDropdownVisibleChange,\n        onFocus = props.onFocus,\n        onBlur = props.onBlur,\n        onKeyUp = props.onKeyUp,\n        onKeyDown = props.onKeyDown,\n        onMouseDown = props.onMouseDown,\n        onChange = props.onChange,\n        onSelect = props.onSelect,\n        onDeselect = props.onDeselect,\n        onClear = props.onClear,\n        _props$internalProps = props.internalProps,\n        internalProps = _props$internalProps === void 0 ? {} : _props$internalProps,\n        restProps = _objectWithoutProperties(props, _excluded);\n\n    var useInternalProps = internalProps.mark === INTERNAL_PROPS_MARK;\n    var domProps = omitDOMProps ? omitDOMProps(restProps) : restProps;\n    DEFAULT_OMIT_PROPS.forEach(function (prop) {\n      delete domProps[prop];\n    });\n    var containerRef = useRef(null);\n    var triggerRef = useRef(null);\n    var selectorRef = useRef(null);\n    var listRef = useRef(null);\n    var tokenWithEnter = useMemo(function () {\n      return (tokenSeparators || []).some(function (tokenSeparator) {\n        return ['\\n', '\\r\\n'].includes(tokenSeparator);\n      });\n    }, [tokenSeparators]);\n    /** Used for component focused management */\n\n    var _useDelayReset = useDelayReset(),\n        _useDelayReset2 = _slicedToArray(_useDelayReset, 3),\n        mockFocused = _useDelayReset2[0],\n        setMockFocused = _useDelayReset2[1],\n        cancelSetMockFocused = _useDelayReset2[2]; // Inner id for accessibility usage. Only work in client side\n\n\n    var _useState = useState(),\n        _useState2 = _slicedToArray(_useState, 2),\n        innerId = _useState2[0],\n        setInnerId = _useState2[1];\n\n    useEffect(function () {\n      setInnerId(\"rc_select_\".concat(getUUID()));\n    }, []);\n    var mergedId = id || innerId; // optionLabelProp\n\n    var mergedOptionLabelProp = optionLabelProp;\n\n    if (mergedOptionLabelProp === undefined) {\n      mergedOptionLabelProp = options ? 'label' : 'children';\n    } // labelInValue\n\n\n    var mergedLabelInValue = mode === 'combobox' ? false : labelInValue;\n    var isMultiple = mode === 'tags' || mode === 'multiple';\n    var mergedShowSearch = showSearch !== undefined ? showSearch : isMultiple || mode === 'combobox'; // ======================== Mobile ========================\n\n    var _useState3 = useState(false),\n        _useState4 = _slicedToArray(_useState3, 2),\n        mobile = _useState4[0],\n        setMobile = _useState4[1];\n\n    useEffect(function () {\n      // Only update on the client side\n      setMobile(isMobile());\n    }, []); // ============================== Ref ===============================\n\n    var selectorDomRef = useRef(null);\n    React.useImperativeHandle(ref, function () {\n      var _selectorRef$current, _selectorRef$current2, _listRef$current;\n\n      return {\n        focus: (_selectorRef$current = selectorRef.current) === null || _selectorRef$current === void 0 ? void 0 : _selectorRef$current.focus,\n        blur: (_selectorRef$current2 = selectorRef.current) === null || _selectorRef$current2 === void 0 ? void 0 : _selectorRef$current2.blur,\n        scrollTo: (_listRef$current = listRef.current) === null || _listRef$current === void 0 ? void 0 : _listRef$current.scrollTo\n      };\n    }); // ============================= Value ==============================\n\n    var _useMergedState = useMergedState(defaultValue, {\n      value: value\n    }),\n        _useMergedState2 = _slicedToArray(_useMergedState, 2),\n        mergedValue = _useMergedState2[0],\n        setMergedValue = _useMergedState2[1];\n    /** Unique raw values */\n\n\n    var _useMemo = useMemo(function () {\n      return toInnerValue(mergedValue, {\n        labelInValue: mergedLabelInValue,\n        combobox: mode === 'combobox'\n      });\n    }, [mergedValue, mergedLabelInValue]),\n        _useMemo2 = _slicedToArray(_useMemo, 2),\n        mergedRawValue = _useMemo2[0],\n        mergedValueMap = _useMemo2[1];\n    /** We cache a set of raw values to speed up check */\n\n\n    var rawValues = useMemo(function () {\n      return new Set(mergedRawValue);\n    }, [mergedRawValue]); // ============================= Option =============================\n    // Set by option list active, it will merge into search input when mode is `combobox`\n\n    var _useState5 = useState(null),\n        _useState6 = _slicedToArray(_useState5, 2),\n        activeValue = _useState6[0],\n        setActiveValue = _useState6[1];\n\n    var _useState7 = useState(''),\n        _useState8 = _slicedToArray(_useState7, 2),\n        innerSearchValue = _useState8[0],\n        setInnerSearchValue = _useState8[1];\n\n    var mergedSearchValue = innerSearchValue;\n\n    if (mode === 'combobox' && mergedValue !== undefined) {\n      mergedSearchValue = mergedValue;\n    } else if (searchValue !== undefined) {\n      mergedSearchValue = searchValue;\n    } else if (inputValue) {\n      mergedSearchValue = inputValue;\n    }\n\n    var mergedOptions = useMemo(function () {\n      var newOptions = options;\n\n      if (newOptions === undefined) {\n        newOptions = convertChildrenToData(children);\n      }\n      /**\n       * `tags` should fill un-list item.\n       * This is not cool here since TreeSelect do not need this\n       */\n\n\n      if (mode === 'tags' && fillOptionsWithMissingValue) {\n        newOptions = fillOptionsWithMissingValue(newOptions, mergedValue, mergedOptionLabelProp, labelInValue);\n      }\n\n      return newOptions || [];\n    }, [options, children, mode, mergedValue]);\n    var mergedFlattenOptions = useMemo(function () {\n      return flattenOptions(mergedOptions, props);\n    }, [mergedOptions]);\n    var getValueOption = useCacheOptions(mergedFlattenOptions); // Display options for OptionList\n\n    var displayOptions = useMemo(function () {\n      if (!mergedSearchValue || !mergedShowSearch) {\n        return _toConsumableArray(mergedOptions);\n      }\n\n      var filteredOptions = filterOptions(mergedSearchValue, mergedOptions, {\n        optionFilterProp: optionFilterProp,\n        filterOption: mode === 'combobox' && filterOption === undefined ? function () {\n          return true;\n        } : filterOption\n      });\n\n      if (mode === 'tags' && filteredOptions.every(function (opt) {\n        return opt[optionFilterProp] !== mergedSearchValue;\n      })) {\n        filteredOptions.unshift({\n          value: mergedSearchValue,\n          label: mergedSearchValue,\n          key: '__RC_SELECT_TAG_PLACEHOLDER__'\n        });\n      }\n\n      if (filterSort && Array.isArray(filteredOptions)) {\n        return _toConsumableArray(filteredOptions).sort(filterSort);\n      }\n\n      return filteredOptions;\n    }, [mergedOptions, mergedSearchValue, mode, mergedShowSearch, filterSort]);\n    var displayFlattenOptions = useMemo(function () {\n      return flattenOptions(displayOptions, props);\n    }, [displayOptions]);\n    useEffect(function () {\n      if (listRef.current && listRef.current.scrollTo) {\n        listRef.current.scrollTo(0);\n      }\n    }, [mergedSearchValue]); // ============================ Selector ============================\n\n    var displayValues = useMemo(function () {\n      var tmpValues = mergedRawValue.map(function (val) {\n        var valueOptions = getValueOption([val]);\n        var displayValue = getLabeledValue(val, {\n          options: valueOptions,\n          prevValueMap: mergedValueMap,\n          labelInValue: mergedLabelInValue,\n          optionLabelProp: mergedOptionLabelProp\n        });\n        return _objectSpread(_objectSpread({}, displayValue), {}, {\n          disabled: isValueDisabled(val, valueOptions)\n        });\n      });\n\n      if (!mode && tmpValues.length === 1 && tmpValues[0].value === null && tmpValues[0].label === null) {\n        return [];\n      }\n\n      return tmpValues;\n    }, [mergedValue, mergedOptions, mode]); // Polyfill with cache label\n\n    displayValues = useCacheDisplayValue(displayValues);\n\n    var triggerSelect = function triggerSelect(newValue, isSelect, source) {\n      var newValueOption = getValueOption([newValue]);\n      var outOption = findValueOption([newValue], newValueOption, {\n        props: props\n      })[0];\n\n      if (!internalProps.skipTriggerSelect) {\n        // Skip trigger `onSelect` or `onDeselect` if configured\n        var selectValue = mergedLabelInValue ? getLabeledValue(newValue, {\n          options: newValueOption,\n          prevValueMap: mergedValueMap,\n          labelInValue: mergedLabelInValue,\n          optionLabelProp: mergedOptionLabelProp\n        }) : newValue;\n\n        if (isSelect && onSelect) {\n          onSelect(selectValue, outOption);\n        } else if (!isSelect && onDeselect) {\n          onDeselect(selectValue, outOption);\n        }\n      } // Trigger internal event\n\n\n      if (useInternalProps) {\n        if (isSelect && internalProps.onRawSelect) {\n          internalProps.onRawSelect(newValue, outOption, source);\n        } else if (!isSelect && internalProps.onRawDeselect) {\n          internalProps.onRawDeselect(newValue, outOption, source);\n        }\n      }\n    }; // We need cache options here in case user update the option list\n\n\n    var _useState9 = useState([]),\n        _useState10 = _slicedToArray(_useState9, 2),\n        prevValueOptions = _useState10[0],\n        setPrevValueOptions = _useState10[1];\n\n    var triggerChange = function triggerChange(newRawValues) {\n      if (useInternalProps && internalProps.skipTriggerChange) {\n        return;\n      }\n\n      var newRawValuesOptions = getValueOption(newRawValues);\n      var outValues = toOuterValues(Array.from(newRawValues), {\n        labelInValue: mergedLabelInValue,\n        options: newRawValuesOptions,\n        getLabeledValue: getLabeledValue,\n        prevValueMap: mergedValueMap,\n        optionLabelProp: mergedOptionLabelProp\n      });\n      var outValue = isMultiple ? outValues : outValues[0]; // Skip trigger if prev & current value is both empty\n\n      if (onChange && (mergedRawValue.length !== 0 || outValues.length !== 0)) {\n        var outOptions = findValueOption(newRawValues, newRawValuesOptions, {\n          prevValueOptions: prevValueOptions,\n          props: props\n        }); // We will cache option in case it removed by ajax\n\n        setPrevValueOptions(outOptions.map(function (option, index) {\n          var clone = _objectSpread({}, option);\n\n          Object.defineProperty(clone, '_INTERNAL_OPTION_VALUE_', {\n            get: function get() {\n              return newRawValues[index];\n            }\n          });\n          return clone;\n        }));\n        onChange(outValue, isMultiple ? outOptions : outOptions[0]);\n      }\n\n      setMergedValue(outValue);\n    };\n\n    var onInternalSelect = function onInternalSelect(newValue, _ref) {\n      var selected = _ref.selected,\n          source = _ref.source;\n\n      if (disabled) {\n        return;\n      }\n\n      var newRawValue;\n\n      if (isMultiple) {\n        newRawValue = new Set(mergedRawValue);\n\n        if (selected) {\n          newRawValue.add(newValue);\n        } else {\n          newRawValue.delete(newValue);\n        }\n      } else {\n        newRawValue = new Set();\n        newRawValue.add(newValue);\n      } // Multiple always trigger change and single should change if value changed\n\n\n      if (isMultiple || !isMultiple && Array.from(mergedRawValue)[0] !== newValue) {\n        triggerChange(Array.from(newRawValue));\n      } // Trigger `onSelect`. Single mode always trigger select\n\n\n      triggerSelect(newValue, !isMultiple || selected, source); // Clean search value if single or configured\n\n      if (mode === 'combobox') {\n        setInnerSearchValue(String(newValue));\n        setActiveValue('');\n      } else if (!isMultiple || autoClearSearchValue) {\n        setInnerSearchValue('');\n        setActiveValue('');\n      }\n    };\n\n    var onInternalOptionSelect = function onInternalOptionSelect(newValue, info) {\n      onInternalSelect(newValue, _objectSpread(_objectSpread({}, info), {}, {\n        source: 'option'\n      }));\n    };\n\n    var onInternalSelectionSelect = function onInternalSelectionSelect(newValue, info) {\n      onInternalSelect(newValue, _objectSpread(_objectSpread({}, info), {}, {\n        source: 'selection'\n      }));\n    }; // ============================= Input ==============================\n    // Only works in `combobox`\n\n\n    var customizeInputElement = mode === 'combobox' && typeof getInputElement === 'function' && getInputElement() || null; // Used for customize replacement for `rc-cascader`\n\n    var customizeRawInputElement = typeof getRawInputElement === 'function' && getRawInputElement(); // ============================== Open ==============================\n\n    var _useMergedState3 = useMergedState(undefined, {\n      defaultValue: defaultOpen,\n      value: open\n    }),\n        _useMergedState4 = _slicedToArray(_useMergedState3, 2),\n        innerOpen = _useMergedState4[0],\n        setInnerOpen = _useMergedState4[1];\n\n    var mergedOpen = innerOpen; // Not trigger `open` in `combobox` when `notFoundContent` is empty\n\n    var emptyListContent = !notFoundContent && !displayOptions.length;\n\n    if (disabled || emptyListContent && mergedOpen && mode === 'combobox') {\n      mergedOpen = false;\n    }\n\n    var triggerOpen = emptyListContent ? false : mergedOpen;\n\n    var onToggleOpen = function onToggleOpen(newOpen) {\n      var nextOpen = newOpen !== undefined ? newOpen : !mergedOpen;\n\n      if (innerOpen !== nextOpen && !disabled) {\n        setInnerOpen(nextOpen);\n\n        if (onDropdownVisibleChange) {\n          onDropdownVisibleChange(nextOpen);\n        }\n      }\n    }; // Used for raw custom input trigger\n\n\n    var onTriggerVisibleChange;\n\n    if (customizeRawInputElement) {\n      onTriggerVisibleChange = function onTriggerVisibleChange(newOpen) {\n        onToggleOpen(newOpen);\n      };\n    }\n\n    useSelectTriggerControl(function () {\n      var _triggerRef$current;\n\n      return [containerRef.current, (_triggerRef$current = triggerRef.current) === null || _triggerRef$current === void 0 ? void 0 : _triggerRef$current.getPopupElement()];\n    }, triggerOpen, onToggleOpen); // ============================= Search =============================\n\n    var triggerSearch = function triggerSearch(searchText, fromTyping, isCompositing) {\n      var ret = true;\n      var newSearchText = searchText;\n      setActiveValue(null); // Check if match the `tokenSeparators`\n\n      var patchLabels = isCompositing ? null : getSeparatedContent(searchText, tokenSeparators);\n      var patchRawValues = patchLabels;\n\n      if (mode === 'combobox') {\n        // Only typing will trigger onChange\n        if (fromTyping) {\n          triggerChange([newSearchText]);\n        }\n      } else if (patchLabels) {\n        newSearchText = '';\n\n        if (mode !== 'tags') {\n          patchRawValues = patchLabels.map(function (label) {\n            var item = mergedFlattenOptions.find(function (_ref2) {\n              var data = _ref2.data;\n              return data[mergedOptionLabelProp] === label;\n            });\n            return item ? item.data.value : null;\n          }).filter(function (val) {\n            return val !== null;\n          });\n        }\n\n        var newRawValues = Array.from(new Set([].concat(_toConsumableArray(mergedRawValue), _toConsumableArray(patchRawValues))));\n        triggerChange(newRawValues);\n        newRawValues.forEach(function (newRawValue) {\n          triggerSelect(newRawValue, true, 'input');\n        }); // Should close when paste finish\n\n        onToggleOpen(false); // Tell Selector that break next actions\n\n        ret = false;\n      }\n\n      setInnerSearchValue(newSearchText);\n\n      if (onSearch && mergedSearchValue !== newSearchText) {\n        onSearch(newSearchText);\n      }\n\n      return ret;\n    }; // Only triggered when menu is closed & mode is tags\n    // If menu is open, OptionList will take charge\n    // If mode isn't tags, press enter is not meaningful when you can't see any option\n\n\n    var onSearchSubmit = function onSearchSubmit(searchText) {\n      // prevent empty tags from appearing when you click the Enter button\n      if (!searchText || !searchText.trim()) {\n        return;\n      }\n\n      var newRawValues = Array.from(new Set([].concat(_toConsumableArray(mergedRawValue), [searchText])));\n      triggerChange(newRawValues);\n      newRawValues.forEach(function (newRawValue) {\n        triggerSelect(newRawValue, true, 'input');\n      });\n      setInnerSearchValue('');\n    }; // Close dropdown & remove focus state when disabled change\n\n\n    useEffect(function () {\n      if (innerOpen && disabled) {\n        setInnerOpen(false);\n      }\n\n      if (disabled) {\n        setMockFocused(false);\n      }\n    }, [disabled]); // Close will clean up single mode search text\n\n    useEffect(function () {\n      if (!mergedOpen && !isMultiple && mode !== 'combobox') {\n        triggerSearch('', false, false);\n      }\n    }, [mergedOpen]); // ============================ Keyboard ============================\n\n    /**\n     * We record input value here to check if can press to clean up by backspace\n     * - null: Key is not down, this is reset by key up\n     * - true: Search text is empty when first time backspace down\n     * - false: Search text is not empty when first time backspace down\n     */\n\n    var _useLock = useLock(),\n        _useLock2 = _slicedToArray(_useLock, 2),\n        getClearLock = _useLock2[0],\n        setClearLock = _useLock2[1]; // KeyDown\n\n\n    var onInternalKeyDown = function onInternalKeyDown(event) {\n      var clearLock = getClearLock();\n      var which = event.which;\n\n      if (which === KeyCode.ENTER) {\n        // Do not submit form when type in the input\n        if (mode !== 'combobox') {\n          event.preventDefault();\n        } // We only manage open state here, close logic should handle by list component\n\n\n        if (!mergedOpen) {\n          onToggleOpen(true);\n        }\n      }\n\n      setClearLock(!!mergedSearchValue); // Remove value by `backspace`\n\n      if (which === KeyCode.BACKSPACE && !clearLock && isMultiple && !mergedSearchValue && mergedRawValue.length) {\n        var removeInfo = removeLastEnabledValue(displayValues, mergedRawValue);\n\n        if (removeInfo.removedValue !== null) {\n          triggerChange(removeInfo.values);\n          triggerSelect(removeInfo.removedValue, false, 'input');\n        }\n      }\n\n      for (var _len = arguments.length, rest = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        rest[_key - 1] = arguments[_key];\n      }\n\n      if (mergedOpen && listRef.current) {\n        var _listRef$current2;\n\n        (_listRef$current2 = listRef.current).onKeyDown.apply(_listRef$current2, [event].concat(rest));\n      }\n\n      if (onKeyDown) {\n        onKeyDown.apply(void 0, [event].concat(rest));\n      }\n    }; // KeyUp\n\n\n    var onInternalKeyUp = function onInternalKeyUp(event) {\n      for (var _len2 = arguments.length, rest = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        rest[_key2 - 1] = arguments[_key2];\n      }\n\n      if (mergedOpen && listRef.current) {\n        var _listRef$current3;\n\n        (_listRef$current3 = listRef.current).onKeyUp.apply(_listRef$current3, [event].concat(rest));\n      }\n\n      if (onKeyUp) {\n        onKeyUp.apply(void 0, [event].concat(rest));\n      }\n    }; // ========================== Focus / Blur ==========================\n\n    /** Record real focus status */\n\n\n    var focusRef = useRef(false);\n\n    var onContainerFocus = function onContainerFocus() {\n      setMockFocused(true);\n\n      if (!disabled) {\n        if (onFocus && !focusRef.current) {\n          onFocus.apply(void 0, arguments);\n        } // `showAction` should handle `focus` if set\n\n\n        if (showAction.includes('focus')) {\n          onToggleOpen(true);\n        }\n      }\n\n      focusRef.current = true;\n    };\n\n    var onContainerBlur = function onContainerBlur() {\n      setMockFocused(false, function () {\n        focusRef.current = false;\n        onToggleOpen(false);\n      });\n\n      if (disabled) {\n        return;\n      }\n\n      if (mergedSearchValue) {\n        // `tags` mode should move `searchValue` into values\n        if (mode === 'tags') {\n          triggerSearch('', false, false);\n          triggerChange(Array.from(new Set([].concat(_toConsumableArray(mergedRawValue), [mergedSearchValue]))));\n        } else if (mode === 'multiple') {\n          // `multiple` mode only clean the search value but not trigger event\n          setInnerSearchValue('');\n        }\n      }\n\n      if (onBlur) {\n        onBlur.apply(void 0, arguments);\n      }\n    };\n\n    var activeTimeoutIds = [];\n    useEffect(function () {\n      return function () {\n        activeTimeoutIds.forEach(function (timeoutId) {\n          return clearTimeout(timeoutId);\n        });\n        activeTimeoutIds.splice(0, activeTimeoutIds.length);\n      };\n    }, []);\n\n    var onInternalMouseDown = function onInternalMouseDown(event) {\n      var _triggerRef$current2;\n\n      var target = event.target;\n      var popupElement = (_triggerRef$current2 = triggerRef.current) === null || _triggerRef$current2 === void 0 ? void 0 : _triggerRef$current2.getPopupElement(); // We should give focus back to selector if clicked item is not focusable\n\n      if (popupElement && popupElement.contains(target)) {\n        var timeoutId = setTimeout(function () {\n          var index = activeTimeoutIds.indexOf(timeoutId);\n\n          if (index !== -1) {\n            activeTimeoutIds.splice(index, 1);\n          }\n\n          cancelSetMockFocused();\n\n          if (!mobile && !popupElement.contains(document.activeElement)) {\n            var _selectorRef$current3;\n\n            (_selectorRef$current3 = selectorRef.current) === null || _selectorRef$current3 === void 0 ? void 0 : _selectorRef$current3.focus();\n          }\n        });\n        activeTimeoutIds.push(timeoutId);\n      }\n\n      if (onMouseDown) {\n        for (var _len3 = arguments.length, restArgs = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n          restArgs[_key3 - 1] = arguments[_key3];\n        }\n\n        onMouseDown.apply(void 0, [event].concat(restArgs));\n      }\n    }; // ========================= Accessibility ==========================\n\n\n    var _useState11 = useState(0),\n        _useState12 = _slicedToArray(_useState11, 2),\n        accessibilityIndex = _useState12[0],\n        setAccessibilityIndex = _useState12[1];\n\n    var mergedDefaultActiveFirstOption = defaultActiveFirstOption !== undefined ? defaultActiveFirstOption : mode !== 'combobox';\n\n    var onActiveValue = function onActiveValue(active, index) {\n      var _ref3 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n          _ref3$source = _ref3.source,\n          source = _ref3$source === void 0 ? 'keyboard' : _ref3$source;\n\n      setAccessibilityIndex(index);\n\n      if (backfill && mode === 'combobox' && active !== null && source === 'keyboard') {\n        setActiveValue(String(active));\n      }\n    }; // ============================= Popup ==============================\n\n\n    var _useState13 = useState(null),\n        _useState14 = _slicedToArray(_useState13, 2),\n        containerWidth = _useState14[0],\n        setContainerWidth = _useState14[1];\n\n    var _useState15 = useState({}),\n        _useState16 = _slicedToArray(_useState15, 2),\n        forceUpdate = _useState16[1]; // We need force update here since popup dom is render async\n\n\n    function onPopupMouseEnter() {\n      forceUpdate({});\n    }\n\n    useLayoutEffect(function () {\n      if (triggerOpen) {\n        var _containerRef$current;\n\n        var newWidth = Math.ceil((_containerRef$current = containerRef.current) === null || _containerRef$current === void 0 ? void 0 : _containerRef$current.offsetWidth);\n\n        if (containerWidth !== newWidth && !Number.isNaN(newWidth)) {\n          setContainerWidth(newWidth);\n        }\n      }\n    }, [triggerOpen]);\n    var popupNode = /*#__PURE__*/React.createElement(OptionList, {\n      ref: listRef,\n      prefixCls: prefixCls,\n      id: mergedId,\n      open: mergedOpen,\n      childrenAsData: !options,\n      options: displayOptions,\n      fieldNames: fieldNames,\n      flattenOptions: displayFlattenOptions,\n      multiple: isMultiple,\n      values: rawValues,\n      height: listHeight,\n      itemHeight: listItemHeight,\n      onSelect: onInternalOptionSelect,\n      onToggleOpen: onToggleOpen,\n      onActiveValue: onActiveValue,\n      defaultActiveFirstOption: mergedDefaultActiveFirstOption,\n      notFoundContent: notFoundContent,\n      onScroll: onPopupScroll,\n      searchValue: mergedSearchValue,\n      menuItemSelectedIcon: menuItemSelectedIcon,\n      virtual: virtual !== false && dropdownMatchSelectWidth !== false,\n      onMouseEnter: onPopupMouseEnter,\n      direction: direction\n    }); // ============================= Clear ==============================\n\n    var clearNode;\n\n    var onClearMouseDown = function onClearMouseDown() {\n      // Trigger internal `onClear` event\n      if (useInternalProps && internalProps.onClear) {\n        internalProps.onClear();\n      }\n\n      if (onClear) {\n        onClear();\n      }\n\n      triggerChange([]);\n      triggerSearch('', false, false);\n    };\n\n    if (!disabled && allowClear && (mergedRawValue.length || mergedSearchValue)) {\n      clearNode = /*#__PURE__*/React.createElement(TransBtn, {\n        className: \"\".concat(prefixCls, \"-clear\"),\n        onMouseDown: onClearMouseDown,\n        customizeIcon: clearIcon\n      }, \"\\xD7\");\n    } // ============================= Arrow ==============================\n\n\n    var mergedShowArrow = showArrow !== undefined ? showArrow : loading || !isMultiple && mode !== 'combobox';\n    var arrowNode;\n\n    if (mergedShowArrow) {\n      arrowNode = /*#__PURE__*/React.createElement(TransBtn, {\n        className: classNames(\"\".concat(prefixCls, \"-arrow\"), _defineProperty({}, \"\".concat(prefixCls, \"-arrow-loading\"), loading)),\n        customizeIcon: inputIcon,\n        customizeIconProps: {\n          loading: loading,\n          searchValue: mergedSearchValue,\n          open: mergedOpen,\n          focused: mockFocused,\n          showSearch: mergedShowSearch\n        }\n      });\n    } // ============================ Warning =============================\n\n\n    if (process.env.NODE_ENV !== 'production' && warningProps) {\n      warningProps(props);\n    } // ============================= Render =============================\n\n\n    var mergedClassName = classNames(prefixCls, className, (_classNames2 = {}, _defineProperty(_classNames2, \"\".concat(prefixCls, \"-focused\"), mockFocused), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-multiple\"), isMultiple), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-single\"), !isMultiple), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-allow-clear\"), allowClear), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-show-arrow\"), mergedShowArrow), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-disabled\"), disabled), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-loading\"), loading), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-open\"), mergedOpen), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-customize-input\"), customizeInputElement), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-show-search\"), mergedShowSearch), _classNames2));\n    var selectorNode = /*#__PURE__*/React.createElement(SelectTrigger, {\n      ref: triggerRef,\n      disabled: disabled,\n      prefixCls: prefixCls,\n      visible: triggerOpen,\n      popupElement: popupNode,\n      containerWidth: containerWidth,\n      animation: animation,\n      transitionName: transitionName,\n      dropdownStyle: dropdownStyle,\n      dropdownClassName: dropdownClassName,\n      direction: direction,\n      dropdownMatchSelectWidth: dropdownMatchSelectWidth,\n      dropdownRender: dropdownRender,\n      dropdownAlign: dropdownAlign,\n      placement: placement,\n      getPopupContainer: getPopupContainer,\n      empty: !mergedOptions.length,\n      getTriggerDOMNode: function getTriggerDOMNode() {\n        return selectorDomRef.current;\n      },\n      onPopupVisibleChange: onTriggerVisibleChange\n    }, customizeRawInputElement ? /*#__PURE__*/React.cloneElement(customizeRawInputElement, {\n      ref: composeRef(selectorDomRef, customizeRawInputElement.props.ref)\n    }) : /*#__PURE__*/React.createElement(Selector, _extends({}, props, {\n      domRef: selectorDomRef,\n      prefixCls: prefixCls,\n      inputElement: customizeInputElement,\n      ref: selectorRef,\n      id: mergedId,\n      showSearch: mergedShowSearch,\n      mode: mode,\n      accessibilityIndex: accessibilityIndex,\n      multiple: isMultiple,\n      tagRender: tagRender,\n      values: displayValues,\n      open: mergedOpen,\n      onToggleOpen: onToggleOpen,\n      searchValue: mergedSearchValue,\n      activeValue: activeValue,\n      onSearch: triggerSearch,\n      onSearchSubmit: onSearchSubmit,\n      onSelect: onInternalSelectionSelect,\n      tokenWithEnter: tokenWithEnter\n    }))); // Render raw\n\n    if (customizeRawInputElement) {\n      return selectorNode;\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", _extends({\n      className: mergedClassName\n    }, domProps, {\n      ref: containerRef,\n      onMouseDown: onInternalMouseDown,\n      onKeyDown: onInternalKeyDown,\n      onKeyUp: onInternalKeyUp,\n      onFocus: onContainerFocus,\n      onBlur: onContainerBlur\n    }), mockFocused && !mergedOpen && /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        width: 0,\n        height: 0,\n        display: 'flex',\n        overflow: 'hidden',\n        opacity: 0\n      },\n      \"aria-live\": \"polite\"\n    }, \"\".concat(mergedRawValue.join(', '))), selectorNode, arrowNode, clearNode);\n  }\n\n  var RefSelect = /*#__PURE__*/React.forwardRef(Select);\n  return RefSelect;\n}","map":{"version":3,"names":["_extends","_defineProperty","_objectSpread","_toConsumableArray","_slicedToArray","_objectWithoutProperties","_excluded","React","useState","useRef","useEffect","useMemo","KeyCode","isMobile","composeRef","classNames","useMergedState","Selector","SelectTrigger","INTERNAL_PROPS_MARK","toInnerValue","toOuterValues","removeLastEnabledValue","getUUID","TransBtn","useLock","useDelayReset","useLayoutEffect","getSeparatedContent","useSelectTriggerControl","useCacheDisplayValue","useCacheOptions","DEFAULT_OMIT_PROPS","generateSelector","config","defaultPrefixCls","prefixCls","OptionList","components","optionList","convertChildrenToData","flattenOptions","getLabeledValue","filterOptions","isValueDisabled","findValueOption","warningProps","fillOptionsWithMissingValue","omitDOMProps","Select","props","ref","_classNames2","_props$prefixCls","className","id","open","defaultOpen","options","children","mode","value","defaultValue","labelInValue","showSearch","inputValue","searchValue","filterOption","filterSort","_props$optionFilterPr","optionFilterProp","_props$autoClearSearc","autoClearSearchValue","onSearch","fieldNames","allowClear","clearIcon","showArrow","inputIcon","menuItemSelectedIcon","disabled","loading","defaultActiveFirstOption","_props$notFoundConten","notFoundContent","optionLabelProp","backfill","tabIndex","getInputElement","getRawInputElement","getPopupContainer","placement","_props$listHeight","listHeight","_props$listItemHeight","listItemHeight","animation","transitionName","virtual","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","_props$showAction","showAction","direction","tokenSeparators","tagRender","onPopupScroll","onDropdownVisibleChange","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown","onChange","onSelect","onDeselect","onClear","_props$internalProps","internalProps","restProps","useInternalProps","mark","domProps","forEach","prop","containerRef","triggerRef","selectorRef","listRef","tokenWithEnter","some","tokenSeparator","includes","_useDelayReset","_useDelayReset2","mockFocused","setMockFocused","cancelSetMockFocused","_useState","_useState2","innerId","setInnerId","concat","mergedId","mergedOptionLabelProp","undefined","mergedLabelInValue","isMultiple","mergedShowSearch","_useState3","_useState4","mobile","setMobile","selectorDomRef","useImperativeHandle","_selectorRef$current","_selectorRef$current2","_listRef$current","focus","current","blur","scrollTo","_useMergedState","_useMergedState2","mergedValue","setMergedValue","_useMemo","combobox","_useMemo2","mergedRawValue","mergedValueMap","rawValues","Set","_useState5","_useState6","activeValue","setActiveValue","_useState7","_useState8","innerSearchValue","setInnerSearchValue","mergedSearchValue","mergedOptions","newOptions","mergedFlattenOptions","getValueOption","displayOptions","filteredOptions","every","opt","unshift","label","key","Array","isArray","sort","displayFlattenOptions","displayValues","tmpValues","map","val","valueOptions","displayValue","prevValueMap","length","triggerSelect","newValue","isSelect","source","newValueOption","outOption","skipTriggerSelect","selectValue","onRawSelect","onRawDeselect","_useState9","_useState10","prevValueOptions","setPrevValueOptions","triggerChange","newRawValues","skipTriggerChange","newRawValuesOptions","outValues","from","outValue","outOptions","option","index","clone","Object","defineProperty","get","onInternalSelect","_ref","selected","newRawValue","add","delete","String","onInternalOptionSelect","info","onInternalSelectionSelect","customizeInputElement","customizeRawInputElement","_useMergedState3","_useMergedState4","innerOpen","setInnerOpen","mergedOpen","emptyListContent","triggerOpen","onToggleOpen","newOpen","nextOpen","onTriggerVisibleChange","_triggerRef$current","getPopupElement","triggerSearch","searchText","fromTyping","isCompositing","ret","newSearchText","patchLabels","patchRawValues","item","find","_ref2","data","filter","onSearchSubmit","trim","_useLock","_useLock2","getClearLock","setClearLock","onInternalKeyDown","event","clearLock","which","ENTER","preventDefault","BACKSPACE","removeInfo","removedValue","values","_len","arguments","rest","_key","_listRef$current2","apply","onInternalKeyUp","_len2","_key2","_listRef$current3","focusRef","onContainerFocus","onContainerBlur","activeTimeoutIds","timeoutId","clearTimeout","splice","onInternalMouseDown","_triggerRef$current2","target","popupElement","contains","setTimeout","indexOf","document","activeElement","_selectorRef$current3","push","_len3","restArgs","_key3","_useState11","_useState12","accessibilityIndex","setAccessibilityIndex","mergedDefaultActiveFirstOption","onActiveValue","active","_ref3","_ref3$source","_useState13","_useState14","containerWidth","setContainerWidth","_useState15","_useState16","forceUpdate","onPopupMouseEnter","_containerRef$current","newWidth","Math","ceil","offsetWidth","Number","isNaN","popupNode","createElement","childrenAsData","multiple","height","itemHeight","onScroll","onMouseEnter","clearNode","onClearMouseDown","customizeIcon","mergedShowArrow","arrowNode","customizeIconProps","focused","process","env","NODE_ENV","mergedClassName","selectorNode","visible","empty","getTriggerDOMNode","onPopupVisibleChange","cloneElement","domRef","inputElement","style","width","display","overflow","opacity","join","RefSelect","forwardRef"],"sources":["C:/Users/hp/Desktop/Assignments-2022/moviestips/node_modules/rc-select/es/generate.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"prefixCls\", \"className\", \"id\", \"open\", \"defaultOpen\", \"options\", \"children\", \"mode\", \"value\", \"defaultValue\", \"labelInValue\", \"showSearch\", \"inputValue\", \"searchValue\", \"filterOption\", \"filterSort\", \"optionFilterProp\", \"autoClearSearchValue\", \"onSearch\", \"fieldNames\", \"allowClear\", \"clearIcon\", \"showArrow\", \"inputIcon\", \"menuItemSelectedIcon\", \"disabled\", \"loading\", \"defaultActiveFirstOption\", \"notFoundContent\", \"optionLabelProp\", \"backfill\", \"tabIndex\", \"getInputElement\", \"getRawInputElement\", \"getPopupContainer\", \"placement\", \"listHeight\", \"listItemHeight\", \"animation\", \"transitionName\", \"virtual\", \"dropdownStyle\", \"dropdownClassName\", \"dropdownMatchSelectWidth\", \"dropdownRender\", \"dropdownAlign\", \"showAction\", \"direction\", \"tokenSeparators\", \"tagRender\", \"onPopupScroll\", \"onDropdownVisibleChange\", \"onFocus\", \"onBlur\", \"onKeyUp\", \"onKeyDown\", \"onMouseDown\", \"onChange\", \"onSelect\", \"onDeselect\", \"onClear\", \"internalProps\"];\n\n/**\n * To match accessibility requirement, we always provide an input in the component.\n * Other element will not set `tabIndex` to avoid `onBlur` sequence problem.\n * For focused select, we set `aria-live=\"polite\"` to update the accessibility content.\n *\n * ref:\n * - keyboard: https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Roles/listbox_role#Keyboard_interactions\n */\nimport * as React from 'react';\nimport { useState, useRef, useEffect, useMemo } from 'react';\nimport KeyCode from \"rc-util/es/KeyCode\";\nimport isMobile from \"rc-util/es/isMobile\";\nimport { composeRef } from \"rc-util/es/ref\";\nimport classNames from 'classnames';\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport Selector from './Selector';\nimport SelectTrigger from './SelectTrigger';\nimport { INTERNAL_PROPS_MARK } from './interface/generator';\nimport { toInnerValue, toOuterValues, removeLastEnabledValue, getUUID } from './utils/commonUtil';\nimport TransBtn from './TransBtn';\nimport useLock from './hooks/useLock';\nimport useDelayReset from './hooks/useDelayReset';\nimport useLayoutEffect from './hooks/useLayoutEffect';\nimport { getSeparatedContent } from './utils/valueUtil';\nimport useSelectTriggerControl from './hooks/useSelectTriggerControl';\nimport useCacheDisplayValue from './hooks/useCacheDisplayValue';\nimport useCacheOptions from './hooks/useCacheOptions';\nvar DEFAULT_OMIT_PROPS = ['removeIcon', 'placeholder', 'autoFocus', 'maxTagCount', 'maxTagTextLength', 'maxTagPlaceholder', 'choiceTransitionName', 'onInputKeyDown', 'tabIndex'];\n/**\n * This function is in internal usage.\n * Do not use it in your prod env since we may refactor this.\n */\n\nexport default function generateSelector(config) {\n  var defaultPrefixCls = config.prefixCls,\n      OptionList = config.components.optionList,\n      convertChildrenToData = config.convertChildrenToData,\n      flattenOptions = config.flattenOptions,\n      getLabeledValue = config.getLabeledValue,\n      filterOptions = config.filterOptions,\n      isValueDisabled = config.isValueDisabled,\n      findValueOption = config.findValueOption,\n      warningProps = config.warningProps,\n      fillOptionsWithMissingValue = config.fillOptionsWithMissingValue,\n      omitDOMProps = config.omitDOMProps; // Use raw define since `React.FC` not support generic\n\n  function Select(props, ref) {\n    var _classNames2;\n\n    var _props$prefixCls = props.prefixCls,\n        prefixCls = _props$prefixCls === void 0 ? defaultPrefixCls : _props$prefixCls,\n        className = props.className,\n        id = props.id,\n        open = props.open,\n        defaultOpen = props.defaultOpen,\n        options = props.options,\n        children = props.children,\n        mode = props.mode,\n        value = props.value,\n        defaultValue = props.defaultValue,\n        labelInValue = props.labelInValue,\n        showSearch = props.showSearch,\n        inputValue = props.inputValue,\n        searchValue = props.searchValue,\n        filterOption = props.filterOption,\n        filterSort = props.filterSort,\n        _props$optionFilterPr = props.optionFilterProp,\n        optionFilterProp = _props$optionFilterPr === void 0 ? 'value' : _props$optionFilterPr,\n        _props$autoClearSearc = props.autoClearSearchValue,\n        autoClearSearchValue = _props$autoClearSearc === void 0 ? true : _props$autoClearSearc,\n        onSearch = props.onSearch,\n        fieldNames = props.fieldNames,\n        allowClear = props.allowClear,\n        clearIcon = props.clearIcon,\n        showArrow = props.showArrow,\n        inputIcon = props.inputIcon,\n        menuItemSelectedIcon = props.menuItemSelectedIcon,\n        disabled = props.disabled,\n        loading = props.loading,\n        defaultActiveFirstOption = props.defaultActiveFirstOption,\n        _props$notFoundConten = props.notFoundContent,\n        notFoundContent = _props$notFoundConten === void 0 ? 'Not Found' : _props$notFoundConten,\n        optionLabelProp = props.optionLabelProp,\n        backfill = props.backfill,\n        tabIndex = props.tabIndex,\n        getInputElement = props.getInputElement,\n        getRawInputElement = props.getRawInputElement,\n        getPopupContainer = props.getPopupContainer,\n        placement = props.placement,\n        _props$listHeight = props.listHeight,\n        listHeight = _props$listHeight === void 0 ? 200 : _props$listHeight,\n        _props$listItemHeight = props.listItemHeight,\n        listItemHeight = _props$listItemHeight === void 0 ? 20 : _props$listItemHeight,\n        animation = props.animation,\n        transitionName = props.transitionName,\n        virtual = props.virtual,\n        dropdownStyle = props.dropdownStyle,\n        dropdownClassName = props.dropdownClassName,\n        dropdownMatchSelectWidth = props.dropdownMatchSelectWidth,\n        dropdownRender = props.dropdownRender,\n        dropdownAlign = props.dropdownAlign,\n        _props$showAction = props.showAction,\n        showAction = _props$showAction === void 0 ? [] : _props$showAction,\n        direction = props.direction,\n        tokenSeparators = props.tokenSeparators,\n        tagRender = props.tagRender,\n        onPopupScroll = props.onPopupScroll,\n        onDropdownVisibleChange = props.onDropdownVisibleChange,\n        onFocus = props.onFocus,\n        onBlur = props.onBlur,\n        onKeyUp = props.onKeyUp,\n        onKeyDown = props.onKeyDown,\n        onMouseDown = props.onMouseDown,\n        onChange = props.onChange,\n        onSelect = props.onSelect,\n        onDeselect = props.onDeselect,\n        onClear = props.onClear,\n        _props$internalProps = props.internalProps,\n        internalProps = _props$internalProps === void 0 ? {} : _props$internalProps,\n        restProps = _objectWithoutProperties(props, _excluded);\n\n    var useInternalProps = internalProps.mark === INTERNAL_PROPS_MARK;\n    var domProps = omitDOMProps ? omitDOMProps(restProps) : restProps;\n    DEFAULT_OMIT_PROPS.forEach(function (prop) {\n      delete domProps[prop];\n    });\n    var containerRef = useRef(null);\n    var triggerRef = useRef(null);\n    var selectorRef = useRef(null);\n    var listRef = useRef(null);\n    var tokenWithEnter = useMemo(function () {\n      return (tokenSeparators || []).some(function (tokenSeparator) {\n        return ['\\n', '\\r\\n'].includes(tokenSeparator);\n      });\n    }, [tokenSeparators]);\n    /** Used for component focused management */\n\n    var _useDelayReset = useDelayReset(),\n        _useDelayReset2 = _slicedToArray(_useDelayReset, 3),\n        mockFocused = _useDelayReset2[0],\n        setMockFocused = _useDelayReset2[1],\n        cancelSetMockFocused = _useDelayReset2[2]; // Inner id for accessibility usage. Only work in client side\n\n\n    var _useState = useState(),\n        _useState2 = _slicedToArray(_useState, 2),\n        innerId = _useState2[0],\n        setInnerId = _useState2[1];\n\n    useEffect(function () {\n      setInnerId(\"rc_select_\".concat(getUUID()));\n    }, []);\n    var mergedId = id || innerId; // optionLabelProp\n\n    var mergedOptionLabelProp = optionLabelProp;\n\n    if (mergedOptionLabelProp === undefined) {\n      mergedOptionLabelProp = options ? 'label' : 'children';\n    } // labelInValue\n\n\n    var mergedLabelInValue = mode === 'combobox' ? false : labelInValue;\n    var isMultiple = mode === 'tags' || mode === 'multiple';\n    var mergedShowSearch = showSearch !== undefined ? showSearch : isMultiple || mode === 'combobox'; // ======================== Mobile ========================\n\n    var _useState3 = useState(false),\n        _useState4 = _slicedToArray(_useState3, 2),\n        mobile = _useState4[0],\n        setMobile = _useState4[1];\n\n    useEffect(function () {\n      // Only update on the client side\n      setMobile(isMobile());\n    }, []); // ============================== Ref ===============================\n\n    var selectorDomRef = useRef(null);\n    React.useImperativeHandle(ref, function () {\n      var _selectorRef$current, _selectorRef$current2, _listRef$current;\n\n      return {\n        focus: (_selectorRef$current = selectorRef.current) === null || _selectorRef$current === void 0 ? void 0 : _selectorRef$current.focus,\n        blur: (_selectorRef$current2 = selectorRef.current) === null || _selectorRef$current2 === void 0 ? void 0 : _selectorRef$current2.blur,\n        scrollTo: (_listRef$current = listRef.current) === null || _listRef$current === void 0 ? void 0 : _listRef$current.scrollTo\n      };\n    }); // ============================= Value ==============================\n\n    var _useMergedState = useMergedState(defaultValue, {\n      value: value\n    }),\n        _useMergedState2 = _slicedToArray(_useMergedState, 2),\n        mergedValue = _useMergedState2[0],\n        setMergedValue = _useMergedState2[1];\n    /** Unique raw values */\n\n\n    var _useMemo = useMemo(function () {\n      return toInnerValue(mergedValue, {\n        labelInValue: mergedLabelInValue,\n        combobox: mode === 'combobox'\n      });\n    }, [mergedValue, mergedLabelInValue]),\n        _useMemo2 = _slicedToArray(_useMemo, 2),\n        mergedRawValue = _useMemo2[0],\n        mergedValueMap = _useMemo2[1];\n    /** We cache a set of raw values to speed up check */\n\n\n    var rawValues = useMemo(function () {\n      return new Set(mergedRawValue);\n    }, [mergedRawValue]); // ============================= Option =============================\n    // Set by option list active, it will merge into search input when mode is `combobox`\n\n    var _useState5 = useState(null),\n        _useState6 = _slicedToArray(_useState5, 2),\n        activeValue = _useState6[0],\n        setActiveValue = _useState6[1];\n\n    var _useState7 = useState(''),\n        _useState8 = _slicedToArray(_useState7, 2),\n        innerSearchValue = _useState8[0],\n        setInnerSearchValue = _useState8[1];\n\n    var mergedSearchValue = innerSearchValue;\n\n    if (mode === 'combobox' && mergedValue !== undefined) {\n      mergedSearchValue = mergedValue;\n    } else if (searchValue !== undefined) {\n      mergedSearchValue = searchValue;\n    } else if (inputValue) {\n      mergedSearchValue = inputValue;\n    }\n\n    var mergedOptions = useMemo(function () {\n      var newOptions = options;\n\n      if (newOptions === undefined) {\n        newOptions = convertChildrenToData(children);\n      }\n      /**\n       * `tags` should fill un-list item.\n       * This is not cool here since TreeSelect do not need this\n       */\n\n\n      if (mode === 'tags' && fillOptionsWithMissingValue) {\n        newOptions = fillOptionsWithMissingValue(newOptions, mergedValue, mergedOptionLabelProp, labelInValue);\n      }\n\n      return newOptions || [];\n    }, [options, children, mode, mergedValue]);\n    var mergedFlattenOptions = useMemo(function () {\n      return flattenOptions(mergedOptions, props);\n    }, [mergedOptions]);\n    var getValueOption = useCacheOptions(mergedFlattenOptions); // Display options for OptionList\n\n    var displayOptions = useMemo(function () {\n      if (!mergedSearchValue || !mergedShowSearch) {\n        return _toConsumableArray(mergedOptions);\n      }\n\n      var filteredOptions = filterOptions(mergedSearchValue, mergedOptions, {\n        optionFilterProp: optionFilterProp,\n        filterOption: mode === 'combobox' && filterOption === undefined ? function () {\n          return true;\n        } : filterOption\n      });\n\n      if (mode === 'tags' && filteredOptions.every(function (opt) {\n        return opt[optionFilterProp] !== mergedSearchValue;\n      })) {\n        filteredOptions.unshift({\n          value: mergedSearchValue,\n          label: mergedSearchValue,\n          key: '__RC_SELECT_TAG_PLACEHOLDER__'\n        });\n      }\n\n      if (filterSort && Array.isArray(filteredOptions)) {\n        return _toConsumableArray(filteredOptions).sort(filterSort);\n      }\n\n      return filteredOptions;\n    }, [mergedOptions, mergedSearchValue, mode, mergedShowSearch, filterSort]);\n    var displayFlattenOptions = useMemo(function () {\n      return flattenOptions(displayOptions, props);\n    }, [displayOptions]);\n    useEffect(function () {\n      if (listRef.current && listRef.current.scrollTo) {\n        listRef.current.scrollTo(0);\n      }\n    }, [mergedSearchValue]); // ============================ Selector ============================\n\n    var displayValues = useMemo(function () {\n      var tmpValues = mergedRawValue.map(function (val) {\n        var valueOptions = getValueOption([val]);\n        var displayValue = getLabeledValue(val, {\n          options: valueOptions,\n          prevValueMap: mergedValueMap,\n          labelInValue: mergedLabelInValue,\n          optionLabelProp: mergedOptionLabelProp\n        });\n        return _objectSpread(_objectSpread({}, displayValue), {}, {\n          disabled: isValueDisabled(val, valueOptions)\n        });\n      });\n\n      if (!mode && tmpValues.length === 1 && tmpValues[0].value === null && tmpValues[0].label === null) {\n        return [];\n      }\n\n      return tmpValues;\n    }, [mergedValue, mergedOptions, mode]); // Polyfill with cache label\n\n    displayValues = useCacheDisplayValue(displayValues);\n\n    var triggerSelect = function triggerSelect(newValue, isSelect, source) {\n      var newValueOption = getValueOption([newValue]);\n      var outOption = findValueOption([newValue], newValueOption, {\n        props: props\n      })[0];\n\n      if (!internalProps.skipTriggerSelect) {\n        // Skip trigger `onSelect` or `onDeselect` if configured\n        var selectValue = mergedLabelInValue ? getLabeledValue(newValue, {\n          options: newValueOption,\n          prevValueMap: mergedValueMap,\n          labelInValue: mergedLabelInValue,\n          optionLabelProp: mergedOptionLabelProp\n        }) : newValue;\n\n        if (isSelect && onSelect) {\n          onSelect(selectValue, outOption);\n        } else if (!isSelect && onDeselect) {\n          onDeselect(selectValue, outOption);\n        }\n      } // Trigger internal event\n\n\n      if (useInternalProps) {\n        if (isSelect && internalProps.onRawSelect) {\n          internalProps.onRawSelect(newValue, outOption, source);\n        } else if (!isSelect && internalProps.onRawDeselect) {\n          internalProps.onRawDeselect(newValue, outOption, source);\n        }\n      }\n    }; // We need cache options here in case user update the option list\n\n\n    var _useState9 = useState([]),\n        _useState10 = _slicedToArray(_useState9, 2),\n        prevValueOptions = _useState10[0],\n        setPrevValueOptions = _useState10[1];\n\n    var triggerChange = function triggerChange(newRawValues) {\n      if (useInternalProps && internalProps.skipTriggerChange) {\n        return;\n      }\n\n      var newRawValuesOptions = getValueOption(newRawValues);\n      var outValues = toOuterValues(Array.from(newRawValues), {\n        labelInValue: mergedLabelInValue,\n        options: newRawValuesOptions,\n        getLabeledValue: getLabeledValue,\n        prevValueMap: mergedValueMap,\n        optionLabelProp: mergedOptionLabelProp\n      });\n      var outValue = isMultiple ? outValues : outValues[0]; // Skip trigger if prev & current value is both empty\n\n      if (onChange && (mergedRawValue.length !== 0 || outValues.length !== 0)) {\n        var outOptions = findValueOption(newRawValues, newRawValuesOptions, {\n          prevValueOptions: prevValueOptions,\n          props: props\n        }); // We will cache option in case it removed by ajax\n\n        setPrevValueOptions(outOptions.map(function (option, index) {\n          var clone = _objectSpread({}, option);\n\n          Object.defineProperty(clone, '_INTERNAL_OPTION_VALUE_', {\n            get: function get() {\n              return newRawValues[index];\n            }\n          });\n          return clone;\n        }));\n        onChange(outValue, isMultiple ? outOptions : outOptions[0]);\n      }\n\n      setMergedValue(outValue);\n    };\n\n    var onInternalSelect = function onInternalSelect(newValue, _ref) {\n      var selected = _ref.selected,\n          source = _ref.source;\n\n      if (disabled) {\n        return;\n      }\n\n      var newRawValue;\n\n      if (isMultiple) {\n        newRawValue = new Set(mergedRawValue);\n\n        if (selected) {\n          newRawValue.add(newValue);\n        } else {\n          newRawValue.delete(newValue);\n        }\n      } else {\n        newRawValue = new Set();\n        newRawValue.add(newValue);\n      } // Multiple always trigger change and single should change if value changed\n\n\n      if (isMultiple || !isMultiple && Array.from(mergedRawValue)[0] !== newValue) {\n        triggerChange(Array.from(newRawValue));\n      } // Trigger `onSelect`. Single mode always trigger select\n\n\n      triggerSelect(newValue, !isMultiple || selected, source); // Clean search value if single or configured\n\n      if (mode === 'combobox') {\n        setInnerSearchValue(String(newValue));\n        setActiveValue('');\n      } else if (!isMultiple || autoClearSearchValue) {\n        setInnerSearchValue('');\n        setActiveValue('');\n      }\n    };\n\n    var onInternalOptionSelect = function onInternalOptionSelect(newValue, info) {\n      onInternalSelect(newValue, _objectSpread(_objectSpread({}, info), {}, {\n        source: 'option'\n      }));\n    };\n\n    var onInternalSelectionSelect = function onInternalSelectionSelect(newValue, info) {\n      onInternalSelect(newValue, _objectSpread(_objectSpread({}, info), {}, {\n        source: 'selection'\n      }));\n    }; // ============================= Input ==============================\n    // Only works in `combobox`\n\n\n    var customizeInputElement = mode === 'combobox' && typeof getInputElement === 'function' && getInputElement() || null; // Used for customize replacement for `rc-cascader`\n\n    var customizeRawInputElement = typeof getRawInputElement === 'function' && getRawInputElement(); // ============================== Open ==============================\n\n    var _useMergedState3 = useMergedState(undefined, {\n      defaultValue: defaultOpen,\n      value: open\n    }),\n        _useMergedState4 = _slicedToArray(_useMergedState3, 2),\n        innerOpen = _useMergedState4[0],\n        setInnerOpen = _useMergedState4[1];\n\n    var mergedOpen = innerOpen; // Not trigger `open` in `combobox` when `notFoundContent` is empty\n\n    var emptyListContent = !notFoundContent && !displayOptions.length;\n\n    if (disabled || emptyListContent && mergedOpen && mode === 'combobox') {\n      mergedOpen = false;\n    }\n\n    var triggerOpen = emptyListContent ? false : mergedOpen;\n\n    var onToggleOpen = function onToggleOpen(newOpen) {\n      var nextOpen = newOpen !== undefined ? newOpen : !mergedOpen;\n\n      if (innerOpen !== nextOpen && !disabled) {\n        setInnerOpen(nextOpen);\n\n        if (onDropdownVisibleChange) {\n          onDropdownVisibleChange(nextOpen);\n        }\n      }\n    }; // Used for raw custom input trigger\n\n\n    var onTriggerVisibleChange;\n\n    if (customizeRawInputElement) {\n      onTriggerVisibleChange = function onTriggerVisibleChange(newOpen) {\n        onToggleOpen(newOpen);\n      };\n    }\n\n    useSelectTriggerControl(function () {\n      var _triggerRef$current;\n\n      return [containerRef.current, (_triggerRef$current = triggerRef.current) === null || _triggerRef$current === void 0 ? void 0 : _triggerRef$current.getPopupElement()];\n    }, triggerOpen, onToggleOpen); // ============================= Search =============================\n\n    var triggerSearch = function triggerSearch(searchText, fromTyping, isCompositing) {\n      var ret = true;\n      var newSearchText = searchText;\n      setActiveValue(null); // Check if match the `tokenSeparators`\n\n      var patchLabels = isCompositing ? null : getSeparatedContent(searchText, tokenSeparators);\n      var patchRawValues = patchLabels;\n\n      if (mode === 'combobox') {\n        // Only typing will trigger onChange\n        if (fromTyping) {\n          triggerChange([newSearchText]);\n        }\n      } else if (patchLabels) {\n        newSearchText = '';\n\n        if (mode !== 'tags') {\n          patchRawValues = patchLabels.map(function (label) {\n            var item = mergedFlattenOptions.find(function (_ref2) {\n              var data = _ref2.data;\n              return data[mergedOptionLabelProp] === label;\n            });\n            return item ? item.data.value : null;\n          }).filter(function (val) {\n            return val !== null;\n          });\n        }\n\n        var newRawValues = Array.from(new Set([].concat(_toConsumableArray(mergedRawValue), _toConsumableArray(patchRawValues))));\n        triggerChange(newRawValues);\n        newRawValues.forEach(function (newRawValue) {\n          triggerSelect(newRawValue, true, 'input');\n        }); // Should close when paste finish\n\n        onToggleOpen(false); // Tell Selector that break next actions\n\n        ret = false;\n      }\n\n      setInnerSearchValue(newSearchText);\n\n      if (onSearch && mergedSearchValue !== newSearchText) {\n        onSearch(newSearchText);\n      }\n\n      return ret;\n    }; // Only triggered when menu is closed & mode is tags\n    // If menu is open, OptionList will take charge\n    // If mode isn't tags, press enter is not meaningful when you can't see any option\n\n\n    var onSearchSubmit = function onSearchSubmit(searchText) {\n      // prevent empty tags from appearing when you click the Enter button\n      if (!searchText || !searchText.trim()) {\n        return;\n      }\n\n      var newRawValues = Array.from(new Set([].concat(_toConsumableArray(mergedRawValue), [searchText])));\n      triggerChange(newRawValues);\n      newRawValues.forEach(function (newRawValue) {\n        triggerSelect(newRawValue, true, 'input');\n      });\n      setInnerSearchValue('');\n    }; // Close dropdown & remove focus state when disabled change\n\n\n    useEffect(function () {\n      if (innerOpen && disabled) {\n        setInnerOpen(false);\n      }\n\n      if (disabled) {\n        setMockFocused(false);\n      }\n    }, [disabled]); // Close will clean up single mode search text\n\n    useEffect(function () {\n      if (!mergedOpen && !isMultiple && mode !== 'combobox') {\n        triggerSearch('', false, false);\n      }\n    }, [mergedOpen]); // ============================ Keyboard ============================\n\n    /**\n     * We record input value here to check if can press to clean up by backspace\n     * - null: Key is not down, this is reset by key up\n     * - true: Search text is empty when first time backspace down\n     * - false: Search text is not empty when first time backspace down\n     */\n\n    var _useLock = useLock(),\n        _useLock2 = _slicedToArray(_useLock, 2),\n        getClearLock = _useLock2[0],\n        setClearLock = _useLock2[1]; // KeyDown\n\n\n    var onInternalKeyDown = function onInternalKeyDown(event) {\n      var clearLock = getClearLock();\n      var which = event.which;\n\n      if (which === KeyCode.ENTER) {\n        // Do not submit form when type in the input\n        if (mode !== 'combobox') {\n          event.preventDefault();\n        } // We only manage open state here, close logic should handle by list component\n\n\n        if (!mergedOpen) {\n          onToggleOpen(true);\n        }\n      }\n\n      setClearLock(!!mergedSearchValue); // Remove value by `backspace`\n\n      if (which === KeyCode.BACKSPACE && !clearLock && isMultiple && !mergedSearchValue && mergedRawValue.length) {\n        var removeInfo = removeLastEnabledValue(displayValues, mergedRawValue);\n\n        if (removeInfo.removedValue !== null) {\n          triggerChange(removeInfo.values);\n          triggerSelect(removeInfo.removedValue, false, 'input');\n        }\n      }\n\n      for (var _len = arguments.length, rest = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        rest[_key - 1] = arguments[_key];\n      }\n\n      if (mergedOpen && listRef.current) {\n        var _listRef$current2;\n\n        (_listRef$current2 = listRef.current).onKeyDown.apply(_listRef$current2, [event].concat(rest));\n      }\n\n      if (onKeyDown) {\n        onKeyDown.apply(void 0, [event].concat(rest));\n      }\n    }; // KeyUp\n\n\n    var onInternalKeyUp = function onInternalKeyUp(event) {\n      for (var _len2 = arguments.length, rest = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        rest[_key2 - 1] = arguments[_key2];\n      }\n\n      if (mergedOpen && listRef.current) {\n        var _listRef$current3;\n\n        (_listRef$current3 = listRef.current).onKeyUp.apply(_listRef$current3, [event].concat(rest));\n      }\n\n      if (onKeyUp) {\n        onKeyUp.apply(void 0, [event].concat(rest));\n      }\n    }; // ========================== Focus / Blur ==========================\n\n    /** Record real focus status */\n\n\n    var focusRef = useRef(false);\n\n    var onContainerFocus = function onContainerFocus() {\n      setMockFocused(true);\n\n      if (!disabled) {\n        if (onFocus && !focusRef.current) {\n          onFocus.apply(void 0, arguments);\n        } // `showAction` should handle `focus` if set\n\n\n        if (showAction.includes('focus')) {\n          onToggleOpen(true);\n        }\n      }\n\n      focusRef.current = true;\n    };\n\n    var onContainerBlur = function onContainerBlur() {\n      setMockFocused(false, function () {\n        focusRef.current = false;\n        onToggleOpen(false);\n      });\n\n      if (disabled) {\n        return;\n      }\n\n      if (mergedSearchValue) {\n        // `tags` mode should move `searchValue` into values\n        if (mode === 'tags') {\n          triggerSearch('', false, false);\n          triggerChange(Array.from(new Set([].concat(_toConsumableArray(mergedRawValue), [mergedSearchValue]))));\n        } else if (mode === 'multiple') {\n          // `multiple` mode only clean the search value but not trigger event\n          setInnerSearchValue('');\n        }\n      }\n\n      if (onBlur) {\n        onBlur.apply(void 0, arguments);\n      }\n    };\n\n    var activeTimeoutIds = [];\n    useEffect(function () {\n      return function () {\n        activeTimeoutIds.forEach(function (timeoutId) {\n          return clearTimeout(timeoutId);\n        });\n        activeTimeoutIds.splice(0, activeTimeoutIds.length);\n      };\n    }, []);\n\n    var onInternalMouseDown = function onInternalMouseDown(event) {\n      var _triggerRef$current2;\n\n      var target = event.target;\n      var popupElement = (_triggerRef$current2 = triggerRef.current) === null || _triggerRef$current2 === void 0 ? void 0 : _triggerRef$current2.getPopupElement(); // We should give focus back to selector if clicked item is not focusable\n\n      if (popupElement && popupElement.contains(target)) {\n        var timeoutId = setTimeout(function () {\n          var index = activeTimeoutIds.indexOf(timeoutId);\n\n          if (index !== -1) {\n            activeTimeoutIds.splice(index, 1);\n          }\n\n          cancelSetMockFocused();\n\n          if (!mobile && !popupElement.contains(document.activeElement)) {\n            var _selectorRef$current3;\n\n            (_selectorRef$current3 = selectorRef.current) === null || _selectorRef$current3 === void 0 ? void 0 : _selectorRef$current3.focus();\n          }\n        });\n        activeTimeoutIds.push(timeoutId);\n      }\n\n      if (onMouseDown) {\n        for (var _len3 = arguments.length, restArgs = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n          restArgs[_key3 - 1] = arguments[_key3];\n        }\n\n        onMouseDown.apply(void 0, [event].concat(restArgs));\n      }\n    }; // ========================= Accessibility ==========================\n\n\n    var _useState11 = useState(0),\n        _useState12 = _slicedToArray(_useState11, 2),\n        accessibilityIndex = _useState12[0],\n        setAccessibilityIndex = _useState12[1];\n\n    var mergedDefaultActiveFirstOption = defaultActiveFirstOption !== undefined ? defaultActiveFirstOption : mode !== 'combobox';\n\n    var onActiveValue = function onActiveValue(active, index) {\n      var _ref3 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n          _ref3$source = _ref3.source,\n          source = _ref3$source === void 0 ? 'keyboard' : _ref3$source;\n\n      setAccessibilityIndex(index);\n\n      if (backfill && mode === 'combobox' && active !== null && source === 'keyboard') {\n        setActiveValue(String(active));\n      }\n    }; // ============================= Popup ==============================\n\n\n    var _useState13 = useState(null),\n        _useState14 = _slicedToArray(_useState13, 2),\n        containerWidth = _useState14[0],\n        setContainerWidth = _useState14[1];\n\n    var _useState15 = useState({}),\n        _useState16 = _slicedToArray(_useState15, 2),\n        forceUpdate = _useState16[1]; // We need force update here since popup dom is render async\n\n\n    function onPopupMouseEnter() {\n      forceUpdate({});\n    }\n\n    useLayoutEffect(function () {\n      if (triggerOpen) {\n        var _containerRef$current;\n\n        var newWidth = Math.ceil((_containerRef$current = containerRef.current) === null || _containerRef$current === void 0 ? void 0 : _containerRef$current.offsetWidth);\n\n        if (containerWidth !== newWidth && !Number.isNaN(newWidth)) {\n          setContainerWidth(newWidth);\n        }\n      }\n    }, [triggerOpen]);\n    var popupNode = /*#__PURE__*/React.createElement(OptionList, {\n      ref: listRef,\n      prefixCls: prefixCls,\n      id: mergedId,\n      open: mergedOpen,\n      childrenAsData: !options,\n      options: displayOptions,\n      fieldNames: fieldNames,\n      flattenOptions: displayFlattenOptions,\n      multiple: isMultiple,\n      values: rawValues,\n      height: listHeight,\n      itemHeight: listItemHeight,\n      onSelect: onInternalOptionSelect,\n      onToggleOpen: onToggleOpen,\n      onActiveValue: onActiveValue,\n      defaultActiveFirstOption: mergedDefaultActiveFirstOption,\n      notFoundContent: notFoundContent,\n      onScroll: onPopupScroll,\n      searchValue: mergedSearchValue,\n      menuItemSelectedIcon: menuItemSelectedIcon,\n      virtual: virtual !== false && dropdownMatchSelectWidth !== false,\n      onMouseEnter: onPopupMouseEnter,\n      direction: direction\n    }); // ============================= Clear ==============================\n\n    var clearNode;\n\n    var onClearMouseDown = function onClearMouseDown() {\n      // Trigger internal `onClear` event\n      if (useInternalProps && internalProps.onClear) {\n        internalProps.onClear();\n      }\n\n      if (onClear) {\n        onClear();\n      }\n\n      triggerChange([]);\n      triggerSearch('', false, false);\n    };\n\n    if (!disabled && allowClear && (mergedRawValue.length || mergedSearchValue)) {\n      clearNode = /*#__PURE__*/React.createElement(TransBtn, {\n        className: \"\".concat(prefixCls, \"-clear\"),\n        onMouseDown: onClearMouseDown,\n        customizeIcon: clearIcon\n      }, \"\\xD7\");\n    } // ============================= Arrow ==============================\n\n\n    var mergedShowArrow = showArrow !== undefined ? showArrow : loading || !isMultiple && mode !== 'combobox';\n    var arrowNode;\n\n    if (mergedShowArrow) {\n      arrowNode = /*#__PURE__*/React.createElement(TransBtn, {\n        className: classNames(\"\".concat(prefixCls, \"-arrow\"), _defineProperty({}, \"\".concat(prefixCls, \"-arrow-loading\"), loading)),\n        customizeIcon: inputIcon,\n        customizeIconProps: {\n          loading: loading,\n          searchValue: mergedSearchValue,\n          open: mergedOpen,\n          focused: mockFocused,\n          showSearch: mergedShowSearch\n        }\n      });\n    } // ============================ Warning =============================\n\n\n    if (process.env.NODE_ENV !== 'production' && warningProps) {\n      warningProps(props);\n    } // ============================= Render =============================\n\n\n    var mergedClassName = classNames(prefixCls, className, (_classNames2 = {}, _defineProperty(_classNames2, \"\".concat(prefixCls, \"-focused\"), mockFocused), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-multiple\"), isMultiple), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-single\"), !isMultiple), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-allow-clear\"), allowClear), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-show-arrow\"), mergedShowArrow), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-disabled\"), disabled), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-loading\"), loading), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-open\"), mergedOpen), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-customize-input\"), customizeInputElement), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-show-search\"), mergedShowSearch), _classNames2));\n    var selectorNode = /*#__PURE__*/React.createElement(SelectTrigger, {\n      ref: triggerRef,\n      disabled: disabled,\n      prefixCls: prefixCls,\n      visible: triggerOpen,\n      popupElement: popupNode,\n      containerWidth: containerWidth,\n      animation: animation,\n      transitionName: transitionName,\n      dropdownStyle: dropdownStyle,\n      dropdownClassName: dropdownClassName,\n      direction: direction,\n      dropdownMatchSelectWidth: dropdownMatchSelectWidth,\n      dropdownRender: dropdownRender,\n      dropdownAlign: dropdownAlign,\n      placement: placement,\n      getPopupContainer: getPopupContainer,\n      empty: !mergedOptions.length,\n      getTriggerDOMNode: function getTriggerDOMNode() {\n        return selectorDomRef.current;\n      },\n      onPopupVisibleChange: onTriggerVisibleChange\n    }, customizeRawInputElement ? /*#__PURE__*/React.cloneElement(customizeRawInputElement, {\n      ref: composeRef(selectorDomRef, customizeRawInputElement.props.ref)\n    }) : /*#__PURE__*/React.createElement(Selector, _extends({}, props, {\n      domRef: selectorDomRef,\n      prefixCls: prefixCls,\n      inputElement: customizeInputElement,\n      ref: selectorRef,\n      id: mergedId,\n      showSearch: mergedShowSearch,\n      mode: mode,\n      accessibilityIndex: accessibilityIndex,\n      multiple: isMultiple,\n      tagRender: tagRender,\n      values: displayValues,\n      open: mergedOpen,\n      onToggleOpen: onToggleOpen,\n      searchValue: mergedSearchValue,\n      activeValue: activeValue,\n      onSearch: triggerSearch,\n      onSearchSubmit: onSearchSubmit,\n      onSelect: onInternalSelectionSelect,\n      tokenWithEnter: tokenWithEnter\n    }))); // Render raw\n\n    if (customizeRawInputElement) {\n      return selectorNode;\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", _extends({\n      className: mergedClassName\n    }, domProps, {\n      ref: containerRef,\n      onMouseDown: onInternalMouseDown,\n      onKeyDown: onInternalKeyDown,\n      onKeyUp: onInternalKeyUp,\n      onFocus: onContainerFocus,\n      onBlur: onContainerBlur\n    }), mockFocused && !mergedOpen && /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        width: 0,\n        height: 0,\n        display: 'flex',\n        overflow: 'hidden',\n        opacity: 0\n      },\n      \"aria-live\": \"polite\"\n    }, \"\".concat(mergedRawValue.join(', '))), selectorNode, arrowNode, clearNode);\n  }\n\n  var RefSelect = /*#__PURE__*/React.forwardRef(Select);\n  return RefSelect;\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}